(this["webpackJsonpshort-film"]=this["webpackJsonpshort-film"]||[]).push([[0],{165:function(e,a,t){},176:function(e,a,t){e.exports=t(357)},181:function(e,a,t){},183:function(e,a,t){},188:function(e,a){},190:function(e,a){},201:function(e,a){},203:function(e,a){},230:function(e,a){},232:function(e,a){},233:function(e,a){},239:function(e,a){},241:function(e,a){},259:function(e,a){},262:function(e,a){},278:function(e,a){},281:function(e,a){},326:function(e,a,t){},327:function(e,a,t){},328:function(e,a,t){},329:function(e,a,t){},356:function(e,a,t){},357:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(169),l=t.n(c);t(181),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=t(5),s=t(8),o=t(90),m=t(6),d=t(41),u=t.n(d),v=t(65),p=r.a.createContext(),f=(t(183),t(1)),E=t.n(f),h=t(53),g=t.n(h),N=t(12),b=t.n(N),w={height:"100%",width:"100%"},k=function(e){var a=Object(n.useContext)(p),t=a.video,c=a.dispatch,l=Object(n.useRef)(),o=e.roomID?"Join Room":"Create Room",m='<div  id="audioDevice" class = "drp-dwn-box"><div class = "set-prelim">INPUT DEVICES</div>',d='<div  id="videoDevice" class = "drp-dwn-box"><div class = "set-prelim">VIDEO DEVICES</div>',f='<div class = "set-prelim">OUTPUT DEVICES</div>',h=0,N=0,k=!1,y=!1,O=!1,j=!1,x=Object(n.useState)([]),I=Object(s.a)(x,2),C=I[0],D=I[1];navigator.mediaDevices.enumerateDevices().then((function(e){E()(".vid-on,.aud-on").fadeOut(),e.forEach((function(e){"audioinput"===e.kind?""!=e.label?(O=!0,0==h&&(k=e.deviceId),h+=1,E()(".aud-off").fadeOut(300),E()(".aud-on").fadeIn(300),m+='<div class="options aud-opt" value="'+e.deviceId+'">'+e.label+"</i></div>"):m+='<div class="options" >Default</i></div>':"audiooutput"===e.kind?""!=e.label?f+='<div class="options aud-op-opt" value="'+e.deviceId+'">'+e.label+"</i></div>":f+='<div class="options" >Default</i></div>':"videoinput"===e.kind&&(""!=e.label?(0==N&&(y=e.deviceId),j=!0,N+=1,E()(".vid-off").fadeOut(300),E()(".vid-on").fadeIn(300),d+='<div class="options vid-opt" value="'+e.deviceId+'">'+e.label+"</i></div>"):d+='<div class="options" >Default</i></div>')})),navigator.mediaDevices.getUserMedia({video:!!y&&{deviceId:{exact:y}},audio:!!k&&{deviceId:{exact:k}}}).then((function(e){l.current&&(l.current.srcObject=e)})).catch((function(e){console.log(e.message)})),m+=f+"</div>",d+="</div>"})),Object(n.useEffect)((function(){console.log("local storage : ",localStorage.getItem("vid-token"),localStorage.getItem("id")),b.a.get("https://watch-party-latest.herokuapp.com/room/me",{headers:{Authorization:"Bearer "+localStorage.getItem("vid-token")}}).then((function(e){D(e.data)})).catch((function(e){console.log(e)}))}),[]);var S=function(e){E()(".crwrong-text").html('Room - <span class = "error-room">'+e+"</span> has already been created"),E()(".crwrong-message").css({left:"2%",transform:"scale(1.0)"}),setTimeout((function(){E()(".crwrong-message").css({left:"-50%",transform:"scale(0.5)"})}),5e3)};function T(a){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e.roomID||""!=E()(".join-room").val().trim()){var r;if(e.roomID)r=e.roomID,b.a.post("https://watch-party-latest.herokuapp.com/room/add",{id:t.user.user._id,roomId:e.roomID}).then((function(e){if("NA"==e.data.status&&0==n)return E()(".crwrong-text").text("You have already joined"),E()(".crwrong-message").css({left:"2%",transform:"scale(1.0)"}),void setTimeout((function(){E()(".wanna-join").css({top:"5%",transform:"scale(1.0)"}),E()(".crwrong-message").css({left:"-50%",transform:"scale(0.5)"})}),4010);M(r)})).catch((function(e){console.log(e)}));else{var c=E()(".join-room").val().trim(),l=g.a.encrypt(t.user.user._id+" "+c,"def");r=l.toString(),b.a.post("https://watch-party-latest.herokuapp.com/room/create",{roomId:r,name:c},{headers:{Authorization:"Bearer "+t.user.token}}).then((function(e){M(r)})).catch((function(e){S(c)}))}a.preventDefault()}}function M(e){c({type:"SET_EVERYTHING",voice:k,voiceOp:k,curA:O,curV:j,video:y,options:{audio:m,video:d},room:!0,user:Object(i.a)(Object(i.a)({},t.user),{},{room:e})}),window.user=Object(i.a)(Object(i.a)({},t.user),{},{room:e})}var R=function(e){return l.current.srcObject.getTracks().map(function(){var a=Object(v.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.kind!=e){a.next=3;break}return a.next=3,t.stop();case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())};function _(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e)+e)}function U(){var e=[_(10,250),_(50,250),_(10,250)],a=_(0,3),t=e[a];return e[a]=e[1],e[1]=t,"rgb("+e[0]+","+e[1]+","+e[2]+")"}function L(e){var a,t=(e=e.toUpperCase()).split(" ");return 1==t.length?(t=t[0])[0]:(a=t[0],t=t[1],a[0]+t[0])}var P=function(a){var t=new URL(window.location.href);a!=e.roomID&&(window.location.href=t.origin+"/room/"+a)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"wanna-join",onClick:function(e){return T(e,1)}},"Join",r.a.createElement("br",null),"Anyway"),r.a.createElement("div",{className:"my-rooms-btn",onClick:function(){return function(){if("rgb(25, 175, 40)"==E()(".my-rooms-btn").css("backgroundColor"))return E()(".available-rooms").css({transform:"translateX(-102%)"}),E()(".my-rooms-btn").css({backgroundColor:"rgb(175,20,20)"}),void E()(".video-surround").css({left:"10%"});E()(".available-rooms").css({transform:"translateX(0%)"}),E()(".my-rooms-btn").css({backgroundColor:"rgb(25,175,40)"}),E()(".video-surround").css({left:"20.5%"})}()}},r.a.createElement("i",{className:"fas fa-wine-glass-alt crlicon"})),r.a.createElement("div",{className:"available-rooms"},r.a.createElement("div",{className:"cr-mem-prelim"},"Rooms Created (",C.created?C.created.length:0,")"),C.created&&C.created.map((function(e,a){return r.a.createElement("div",{key:a,className:"cr-room",onClick:function(){return P(e.id)}},r.a.createElement("div",{style:{background:U()},className:"crimg-prof1"},L(e.name)),e.name)})),r.a.createElement("div",{className:"cr-mem-prelim"},"Other Rooms (",C.member?C.member.length:0,")"),C.member&&C.member.map((function(e,a){return r.a.createElement("div",{key:a,className:"cr-room",onClick:function(){return P(e.id)}},r.a.createElement("div",{style:{background:U()},className:"crimg-prof1"},L(e.name)),e.name)}))),r.a.createElement("div",{className:"create-room-heading"},e.roomID?"Join":"Create"," Room"),r.a.createElement("div",{className:"video-surround"},r.a.createElement("video",{muted:!0,ref:l,autoPlay:!0,playsInline:!0,className:"crvideo"}),r.a.createElement("div",{className:"vid vid-off cricon-surround",onClick:function(){navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:y},videoConstraints:w},audio:!!O&&{deviceId:{exact:k}}}).then((function(e){l.current&&(l.current.srcObject=e),E()(".vid-off").fadeOut(1e3),E()(".vid-on").fadeIn(1e3)})).catch((function(e){alert("Permission Denied")})),j=!0}},r.a.createElement("i",{className:"fas fa-video-slash icon"})),r.a.createElement("div",{className:"vid vid-on cricon-surround",onClick:function(){R("video"),j=!1,l.current.pause(),E()(".vid-on").fadeOut(1e3),E()(".vid-off").fadeIn(1e3)}},r.a.createElement("i",{className:"fas fa-video icon"})),r.a.createElement("div",{className:"aud aud-off cricon-surround",onClick:function(){navigator.mediaDevices.getUserMedia({video:!!j&&{deviceId:{exact:y},videoConstraints:w},audio:{deviceId:{exact:k}}}).then((function(e){l.current&&(l.current.srcObject=e),E()(".aud-off").fadeOut(1e3),E()(".aud-on").fadeIn(1e3)})).catch((function(e){alert("Permission Denied")})),O=!0}},r.a.createElement("i",{className:"fas fa-microphone-slash icon"})),r.a.createElement("div",{className:"aud aud-on cricon-surround",onClick:function(){R("audio"),O=!1,E()(".aud-on").fadeOut(1e3),E()(".aud-off").fadeIn(1e3)}},r.a.createElement("i",{className:"fas fa-microphone icon"}))),r.a.createElement("div",{className:"crwrong-message"},r.a.createElement("i",{className:"fas fa-times-circle"}),r.a.createElement("span",{className:"crwrong-text"})),r.a.createElement("div",{style:{right:e.roomID?"40px":"70px"},className:"crl"},r.a.createElement("div",{className:"circle-temp"}),r.a.createElement("div",{className:"circle-temp1"}),r.a.createElement("div",{className:"circle-temp2"}),e.roomID?r.a.createElement("div",{className:"room-name"},e.RoomName):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"room-name"}),r.a.createElement("div",{className:"crlunderline"},r.a.createElement("span",{className:"crlicon-surround"},r.a.createElement("i",{className:"fas fa-wine-glass-alt crlicon"})),r.a.createElement("input",{onChange:function(e){return""==E()(".join-room").val()?E()(".crlunderline").css({top:"40%"}):E()(".crlunderline").css({top:"21.5%"}),void E()(".room-name").text(E()(".join-room").val())},type:"text",className:"join-room",placeholder:"Room Name"}))),r.a.createElement("button",{className:"crbtn",onClick:T},o)),e.roomID&&r.a.createElement("button",{className:"crbtn createbtn",onClick:function(){window.location.href=new URL(window.location.href).origin+"/create/"}},"Create a Room"))},y=t(19),O=t(170),j=t.n(O),x=t(42),I=t.n(x),C=(t(165),function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{scrollbarWidth:"none"},className:"chat-window"},r.a.createElement("div",{style:{scrollbarWidth:"none"},className:"chat-output"},r.a.createElement("div",{style:{bottom:"6%",scrollbarWidth:"none"},className:"ch-o-bt"}))))}),D=function(e){var a=e.vid;e.stream;console.log(a);var t=a.video.video,n=a.video.poster,c="url("+(n||"https://raw.githubusercontent.com/Ahmetaksungur/twitter-video-player-clone/master/92456705_506989316849451_7379405183454806542_n.jpg")+")";return r.a.useEffect((function(){var e=document.createElement("script");e.src="/path/to/twivid.js",e.async=!0,document.body.appendChild(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"video"},r.a.createElement("div",{className:"vchat-holder"},r.a.createElement(C,null)),r.a.createElement("div",{className:"video-preview",style:{backgroundImage:c}},r.a.createElement("button",{className:"video-start-btn"},r.a.createElement("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M256,0C114.833,0,0,114.844,0,256s114.833,256,256,256s256-114.844,256-256S397.167,0,256,0z M357.771,264.969\r l-149.333,96c-1.75,1.135-3.771,1.698-5.771,1.698c-1.75,0-3.521-0.438-5.104-1.302C194.125,359.49,192,355.906,192,352V160\r c0-3.906,2.125-7.49,5.563-9.365c3.375-1.854,7.604-1.74,10.875,0.396l149.333,96c3.042,1.958,4.896,5.344,4.896,8.969\r S360.813,263.01,357.771,264.969z",elevation:"2"})))),r.a.createElement("div",{className:"video-top"}),r.a.createElement("div",{className:"anim play-anim"},r.a.createElement("img",{className:"anim-img",src:"/static-img/play.png",alt:"as",width:"20",height:"20"})),r.a.createElement("div",{className:"video-loading"},r.a.createElement("div",{className:"video-loading-spinner"})),r.a.createElement("div",{className:"video-reset"},r.a.createElement("button",{className:"video-reset-btn"},"Watch again")),r.a.createElement("div",{className:"video-incoming"},r.a.createElement("h3",{className:"grad-text"},r.a.createElement("span",null,"S"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"m"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"n"),r.a.createElement("span",null,"e"),r.a.createElement("span",null," "),r.a.createElement("span",null,"I"),r.a.createElement("span",null,"s"),r.a.createElement("span",null," "),r.a.createElement("span",null,"A"),r.a.createElement("span",null,"b"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"u"),r.a.createElement("span",null,"t"),r.a.createElement("span",null," "),r.a.createElement("span",null,"T"),r.a.createElement("span",null,"o"),r.a.createElement("span",null," "),r.a.createElement("span",null,"J"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"i"),r.a.createElement("span",null,"n"),r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,".")),r.a.createElement("h3",{className:"grad-text reflex"},r.a.createElement("span",null,"S"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"m"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"n"),r.a.createElement("span",null,"e"),r.a.createElement("span",null," "),r.a.createElement("span",null,"I"),r.a.createElement("span",null,"s"),r.a.createElement("span",null," "),r.a.createElement("span",null,"A"),r.a.createElement("span",null,"b"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"u"),r.a.createElement("span",null,"t"),r.a.createElement("span",null," "),r.a.createElement("span",null,"T"),r.a.createElement("span",null,"o"),r.a.createElement("span",null," "),r.a.createElement("span",null,"J"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"i"),r.a.createElement("span",null,"n"),r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,".")),r.a.createElement("h3",{className:"grad-text"},r.a.createElement("span",null,"P"),r.a.createElement("span",null,"l"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"s"),r.a.createElement("span",null,"e"),r.a.createElement("span",null," "),r.a.createElement("span",null,"W"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"i"),r.a.createElement("span",null,"t")),r.a.createElement("h3",{className:"grad-text reflex"},r.a.createElement("span",null,"P"),r.a.createElement("span",null,"l"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"s"),r.a.createElement("span",null,"e"),r.a.createElement("span",null," "),r.a.createElement("span",null,"W"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"i"),r.a.createElement("span",null,"t"))),r.a.createElement("div",{className:"video-player-controls"},r.a.createElement("div",{className:"video-slider"},r.a.createElement("div",{className:"video-slider-tooltip"},"hi"),r.a.createElement("div",{className:"video-slider-container"},r.a.createElement("div",{className:"video-slider-bg"},r.a.createElement("div",{className:"video-slider-buffered"}),r.a.createElement("div",{className:"video-slider-rail"}),r.a.createElement("div",{className:"video-slider-buffer"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"video-control"},r.a.createElement("button",{className:"video-control-btn"},r.a.createElement("svg",{className:"video-control-play",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"geometricPrecision"},r.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3",fill:"currentColor"})),r.a.createElement("svg",{className:"video-control-pause",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"geometricPrecision"},r.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16",fill:"currentColor"}),r.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16",fill:"currentColor"})))),r.a.createElement("div",{className:"video-counts"},r.a.createElement("span",{className:"video-count-time"},"0:00"),r.a.createElement("span",{className:"video-count-line"},"/"),r.a.createElement("span",{className:"video-count-fulltime"},"0:00"))),r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"video-chat"},r.a.createElement("img",{id:"chat-on",src:"/static-img/chat_white.png",alt:"pip",width:"24",height:"24"}),r.a.createElement("img",{id:"chat-off",src:"/static-img/chat_off.png",alt:"pip",width:"24",height:"24"})),r.a.createElement("div",{className:"video-voice"},r.a.createElement("div",{className:"video-voice-slider"},r.a.createElement("div",{className:"video-voice-slider-rail",role:"slider","aria-valuemax":"1","aria-valuemin":"0","aria-valuenow":"1"},r.a.createElement("div",{className:"video-voice-slider-buffer"}),r.a.createElement("input",{className:"video-voice-slider-range",type:"range",min:"0",max:"1",defaultValue:"1",step:"0.01"}))),r.a.createElement("button",{className:"video-voice-btn"},r.a.createElement("svg",{className:"video-voice-on",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),r.a.createElement("path",{d:"M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07"})),r.a.createElement("svg",{className:"video-voice-off",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),r.a.createElement("path",{d:"M23 9l-6 6"}),r.a.createElement("path",{d:"M17 9l6 6"})))),r.a.createElement("div",{className:"video-playback-rate"},r.a.createElement("div",{className:"video-playback-box"},r.a.createElement("div",{className:"video-playback"},"0.25"),r.a.createElement("div",{className:"video-playback"},"0.50"),r.a.createElement("div",{className:"video-playback"},"0.75"),r.a.createElement("div",{className:"video-playback"},"Normal"),r.a.createElement("div",{className:"video-playback"},"1.25"),r.a.createElement("div",{className:"video-playback"},"1.50"),r.a.createElement("div",{className:"video-playback"},"1.75"),r.a.createElement("div",{className:"video-playback"},"2.0")),r.a.createElement("div",{className:"video-playback-speed"},"Normal")),r.a.createElement("div",{className:"video-pip",disabled:!0},r.a.createElement("img",{src:"/static-img/pip_white.png",alt:"pip",width:"24",height:"24"})),r.a.createElement("div",{className:"full-screen"},r.a.createElement("button",{className:"full-screen-btn"},r.a.createElement("svg",{className:"full-screen-open",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M15 3h6v6"}),r.a.createElement("path",{d:"M9 21H3v-6"}),r.a.createElement("path",{d:"M21 3l-7 7"}),r.a.createElement("path",{d:"M3 21l7-7"})),r.a.createElement("svg",{className:"full-screen-exit",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M4 14h6v6"}),r.a.createElement("path",{d:"M20 10h-6V4"}),r.a.createElement("path",{d:"M14 10l7-7"}),r.a.createElement("path",{d:"M3 21l7-7"}))))))),r.a.createElement("div",{className:"video-player"},r.a.createElement("video",{poster:n,tabIndex:"-1",datavideo:"",preload:"auto",controlsList:"nodownload",crossOrigin:"anonymous"},r.a.createElement("source",{def:t,id:"org-video-src",src:t,type:"video/mp4"})))),r.a.createElement("canvas",{id:"canvas"}))},S=(t(326),t(327),function(e){var a=e.addVideo;return window.addVideo=a,Object(n.useEffect)((function(){var e=document.createElement("script");e.src="/path/to/videoUpload.js",e.async=!0,document.body.appendChild(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"circle-temp2"}),r.a.createElement("div",{className:"egg-temp"},"Video",r.a.createElement("br",null),"Upload"),r.a.createElement("div",{className:"circle-temp1"}),r.a.createElement("div",{className:"circle-temp3"}),r.a.createElement("div",{className:"circle-temp4"}),r.a.createElement("input",{type:"text",className:"video-name",required:!0,placeholder:"Video Name*"}),r.a.createElement("textarea",{rows:"10",className:"video-desc",placeholder:"Video Description"}),r.a.createElement("div",{className:"file1"},r.a.createElement("input",{id:"imgfile",type:"file",className:"innercircle1"}),r.a.createElement("i",{className:"fas fa-image"})),r.a.createElement("div",{className:"holder"},r.a.createElement("div",{className:"ano-holder"},r.a.createElement("svg",{className:"progress-ring",width:"120",height:"120"},r.a.createElement("circle",{className:"progress-ring__circle",stroke:"rgb(3,240,250)",strokeWidth:"4",fill:"transparent",r:"53.2",cx:"60",cy:"60"})),r.a.createElement("input",{name:"file",id:"vidfile",type:"file",className:"cloudinary-fileupload innercircle"}),r.a.createElement("i",{className:"fas fa-upload k-vid-upload"}),r.a.createElement("i",{className:"fas fa-check"}))),r.a.createElement("div",{className:"filename_holder"},r.a.createElement("div",{className:"heading"},"Poster"),r.a.createElement("div",{className:"poster"}),r.a.createElement("div",{className:"heading"},"Video"),r.a.createElement("div",{className:"videoflname"})),r.a.createElement("div",{className:"cloudSubmit"},r.a.createElement("i",{className:"fas fa-arrow-right"})),r.a.createElement("div",{className:"cloudCancel"},r.a.createElement("i",{className:"fas fa-times-circle cancelreq"})),r.a.createElement("div",{className:"message"}),r.a.createElement("div",{className:"wr-message"}))}),T=(t(328),t(43)),M=t.n(T),R=function(e){var a=e.chat,t=e.id;function n(e){return e/10<1?"0"+e:e}function c(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e)+e)}r.a.useEffect((function(){var e=document.createElement("script");e.src="/path/to/chat.js",e.async=!0,document.body.appendChild(e)}),[]);var l={root:document.querySelector("ch-o-bt"),rootMargin:"0px",threshold:[.1]};var i=new IntersectionObserver((function(e,a){e.forEach((function(e){e.intersectionRatio>.1?E()(e.target).css({transform:" translateX(0%)"}):E()(e.target).hasClass("message-mine")?E()(e.target).css({transform:" translateX(50%)"}):E()(e.target).css({transform:" translateX(-50%)"})}))}),l);function s(e,a){var t=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),n=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate());return Math.abs(Math.floor((n-t)/864e5))}var o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chat-window"},r.a.createElement("div",{className:"chat-title"},"Chat Room",r.a.createElement("i",{className:"far fa-comment-alt"})),r.a.createElement("div",{className:"chat-output"},r.a.createElement("div",{className:"chat-loader-surround"},r.a.createElement("div",{className:"chat-loader"})),r.a.createElement("div",{className:"ch-o-bt"},a.length>0?a.map((function(e,l){var m=!1,d="";if(0!=l?s(new Date(e.createdAt),new Date(a[l-1].createdAt))>0&&(m=!0):m=!0,1==m&&(d=function(e){var a=s(new Date(e),new Date);return 0==a?"Today":1==a?"Yesterday":a<=6&&a>=2?o[new Date(e).getDay()]:M()(e).format("YYYY , D MMM ")}(e.createdAt)),l==a.length-1&&setTimeout((function(){E()(".message-mine").each((function(e){i.observe(this)})),E()(".message-other").each((function(e){i.observe(this)})),E()(".ch-o-bt")[E()(".ch-o-bt").length-1].scrollTop=E()(".ch-o-bt")[E()(".ch-o-bt").length-1].scrollHeight}),100),"no chat"==e)return null;E()(".chat-loader-surround").css({top:"0%"}),E()(".chat-loader").css({animation:"none"});var u=function(){var e=[c(10,250),c(50,250),c(10,250)],a=c(0,3),t=e[a];return e[a]=e[1],e[1]=t,"rgb("+e[0]+","+e[1]+","+e[2]+")"}(),v=new Date(e.createdAt);return t==e.ownedBy?r.a.createElement("span",{key:e._id},""!=d&&r.a.createElement("div",{className:"chat-date"},d),r.a.createElement("div",{className:"message-mine"},e.message,r.a.createElement("div",{className:"message-time"},n(v.getHours()),":",n(v.getMinutes())))):r.a.createElement("span",{key:e._id},""!=d&&r.a.createElement("div",{className:"chat-date"},d),r.a.createElement("div",{key:e._id,className:"message-other"},r.a.createElement("div",{className:"message-owner",style:{color:u}},e.owner),e.message,r.a.createElement("div",{className:"message-time"},n(v.getHours()),":",n(v.getMinutes()))))})):null)),r.a.createElement("div",{className:"chat-input"},r.a.createElement("div",{className:"inp-surround"},r.a.createElement("textarea",{rows:"1",placeholder:"Type a Message...",id:"inp"})),r.a.createElement("div",{className:"chat-send"},r.a.createElement("i",{class:"fas fa-pen-nib"})))))},_=(t(329),t(171)),U=t.n(_),L=t(172),P=t.n(L),V=function(e){var a=e.videosList,t=e.videosList1,c=e.viewVideo;return M.a.extend(U.a),M.a.extend(P.a),Object(n.useEffect)((function(){setTimeout((function(){console.log("set Time out running");var e=document.createElement("script");e.src="/path/to/videoList.js",e.async=!0,document.body.appendChild(e)}),300)}),[]),r.a.createElement("div",{className:"video-container"},r.a.createElement("div",{className:"video-caurosel"},r.a.createElement("div",{className:"circle-temp"}),r.a.createElement("div",{className:"circle-temp1"}),r.a.createElement("div",{className:"circle-temp3"}),r.a.createElement("div",{className:"circle-temp4"}),0!=t.length?r.a.createElement("div",{style:{width:"100%",height:"100%",postion:"absolute",top:"0",left:"0"}},r.a.createElement("div",{className:"vid-caurosel-mover",style:{width:100*t.length+"%",display:"flex",flexDirection:"row",alignItems:"center",height:"100%"}},0!=t.length&&t.map((function(e,a){a==t.length-1&&setTimeout((function(){var e=E()(".video-caurosel").width();E()(".indv-caurosel").css({width:.8*e+"px",marginLeft:.1*e,marginRight:.1*e}),E()(".caurosel-name").css({opacity:1})}),500);var n='url("'+e.video.poster+'")';return r.a.createElement("div",{onClick:function(){return c(e)},style:{backgroundImage:n},key:a,className:"indv-caurosel"},r.a.createElement("div",{className:"caurosel-name"},e.video.name))})))):null,r.a.createElement("div",{className:"prev-caurosel"},r.a.createElement("i",{className:"fas fa-chevron-left"})),r.a.createElement("div",{className:"next-caurosel"},r.a.createElement("i",{className:"fas fa-chevron-right"}))),0!=a.length&&a.map((function(e,a){return r.a.createElement("div",{key:a,className:"single-video",onClick:function(){return c(e)}},r.a.createElement("div",{className:"circle-temp"}),r.a.createElement("div",{className:"circle-temp1"}),r.a.createElement("div",{className:"circle-temp2"}),r.a.createElement("div",{className:"sin-vid-poster"},r.a.createElement("img",{src:e.video.poster,width:"373",height:"250"})),r.a.createElement("div",{className:"vvideo-name"},e.video.name),r.a.createElement("div",{className:"vvideo-info-holder"},r.a.createElement("div",{className:"vvideo-views"},"12 views"),r.a.createElement("div",{className:"vvideo-owner"},r.a.createElement("div",{className:"img-prof2"},function(e){var a,t=(e=e.toUpperCase()).split(" ");return 1==t.length?(t=t[0])[0]:(a=t[0],t=t[1],a[0]+t[0])}(e.user.username)),e.user.username.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))),r.a.createElement("div",{className:"vvideo-created"},M()(e.video.createdAt).fromNow())))})))},A=function(e){var a=e.vid,t=e.stream;console.log("video stream:",t);var n=a;"copy"==a&&(n="",setTimeout((function(){E()("video")[0].srcObject=t}),400));return r.a.useEffect((function(){var e=document.createElement("script");e.src="/path/to/twividFile.js",e.async=!0,document.body.appendChild(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"video vid-file-main"},r.a.createElement("div",{className:"vchat-holder"},r.a.createElement(C,null)),r.a.createElement("div",{className:"video-preview",style:{backgroundImage:"https://raw.githubusercontent.com/Ahmetaksungur/twitter-video-player-clone/master/92456705_506989316849451_7379405183454806542_n.jpg"}},r.a.createElement("button",{className:"video-start-btn"},r.a.createElement("svg",{width:"50",height:"50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},r.a.createElement("path",{d:"M256,0C114.833,0,0,114.844,0,256s114.833,256,256,256s256-114.844,256-256S397.167,0,256,0z M357.771,264.969\r l-149.333,96c-1.75,1.135-3.771,1.698-5.771,1.698c-1.75,0-3.521-0.438-5.104-1.302C194.125,359.49,192,355.906,192,352V160\r c0-3.906,2.125-7.49,5.563-9.365c3.375-1.854,7.604-1.74,10.875,0.396l149.333,96c3.042,1.958,4.896,5.344,4.896,8.969\r S360.813,263.01,357.771,264.969z",elevation:"2"})))),r.a.createElement("div",{className:"video-top"}),r.a.createElement("div",{className:"anim play-anim"},r.a.createElement("img",{className:"anim-img",src:"/static-img/play.png",alt:"as",width:"20",height:"20"})),r.a.createElement("div",{className:"video-loading"},r.a.createElement("div",{className:"video-loading-spinner"})),r.a.createElement("div",{className:"video-reset"},r.a.createElement("button",{className:"video-reset-btn"},"Watch again")),r.a.createElement("div",{className:"video-incoming"},r.a.createElement("h3",{className:"grad-text"},r.a.createElement("span",null,"S"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"m"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"n"),r.a.createElement("span",null,"e"),r.a.createElement("span",null," "),r.a.createElement("span",null,"I"),r.a.createElement("span",null,"s"),r.a.createElement("span",null," "),r.a.createElement("span",null,"A"),r.a.createElement("span",null,"b"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"u"),r.a.createElement("span",null,"t"),r.a.createElement("span",null," "),r.a.createElement("span",null,"T"),r.a.createElement("span",null,"o"),r.a.createElement("span",null," "),r.a.createElement("span",null,"J"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"i"),r.a.createElement("span",null,"n"),r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,".")),r.a.createElement("h3",{className:"grad-text reflex"},r.a.createElement("span",null,"S"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"m"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"n"),r.a.createElement("span",null,"e"),r.a.createElement("span",null," "),r.a.createElement("span",null,"I"),r.a.createElement("span",null,"s"),r.a.createElement("span",null," "),r.a.createElement("span",null,"A"),r.a.createElement("span",null,"b"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"u"),r.a.createElement("span",null,"t"),r.a.createElement("span",null," "),r.a.createElement("span",null,"T"),r.a.createElement("span",null,"o"),r.a.createElement("span",null," "),r.a.createElement("span",null,"J"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"i"),r.a.createElement("span",null,"n"),r.a.createElement("span",null,"."),r.a.createElement("span",null,"."),r.a.createElement("span",null,".")),r.a.createElement("h3",{className:"grad-text"},r.a.createElement("span",null,"P"),r.a.createElement("span",null,"l"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"s"),r.a.createElement("span",null,"e"),r.a.createElement("span",null," "),r.a.createElement("span",null,"W"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"i"),r.a.createElement("span",null,"t")),r.a.createElement("h3",{className:"grad-text reflex"},r.a.createElement("span",null,"P"),r.a.createElement("span",null,"l"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"s"),r.a.createElement("span",null,"e"),r.a.createElement("span",null," "),r.a.createElement("span",null,"W"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"i"),r.a.createElement("span",null,"t"))),r.a.createElement("div",{className:"video-player-controls"},r.a.createElement("div",{className:"video-slider"},r.a.createElement("div",{className:"video-slider-tooltip"},"0.00"),r.a.createElement("div",{className:"video-slider-container"},r.a.createElement("div",{className:"video-slider-bg"},r.a.createElement("div",{className:"video-slider-buffered"}),r.a.createElement("div",{className:"video-slider-rail"}),r.a.createElement("div",{className:"video-slider-buffer"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"video-control"},r.a.createElement("button",{className:"video-control-btn"},r.a.createElement("svg",{className:"video-control-play",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"geometricPrecision"},r.a.createElement("polygon",{points:"5 3 19 12 5 21 5 3",fill:"currentColor"})),r.a.createElement("svg",{className:"video-control-pause",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",shapeRendering:"geometricPrecision"},r.a.createElement("rect",{x:"6",y:"4",width:"4",height:"16",fill:"currentColor"}),r.a.createElement("rect",{x:"14",y:"4",width:"4",height:"16",fill:"currentColor"})))),r.a.createElement("div",{className:"video-counts"},r.a.createElement("span",{className:"video-count-time"},"0:00"),r.a.createElement("span",{className:"video-count-line"},"/"),r.a.createElement("span",{className:"video-count-fulltime"},"0:00"))),r.a.createElement("div",{className:"wrap"},r.a.createElement("div",{className:"video-chat"},r.a.createElement("img",{id:"chat-on",src:"/static-img/chat_white.png",alt:"pip",width:"24",height:"24"}),r.a.createElement("img",{id:"chat-off",src:"/static-img/chat_off.png",alt:"pip",width:"24",height:"24"})),r.a.createElement("div",{className:"video-voice"},r.a.createElement("div",{className:"video-voice-slider"},r.a.createElement("div",{className:"video-voice-slider-rail",role:"slider","aria-valuemax":"1","aria-valuemin":"0","aria-valuenow":"1"},r.a.createElement("div",{className:"video-voice-slider-buffer"}),r.a.createElement("input",{className:"video-voice-slider-range",type:"range",min:"0",max:"1",defaultValue:"1",step:"0.01"}))),r.a.createElement("button",{className:"video-voice-btn"},r.a.createElement("svg",{className:"video-voice-on",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),r.a.createElement("path",{d:"M19.07 4.93a10 10 0 010 14.14M15.54 8.46a5 5 0 010 7.07"})),r.a.createElement("svg",{className:"video-voice-off",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M11 5L6 9H2v6h4l5 4V5z"}),r.a.createElement("path",{d:"M23 9l-6 6"}),r.a.createElement("path",{d:"M17 9l6 6"})))),r.a.createElement("div",{className:"video-playback-rate"},r.a.createElement("div",{className:"video-playback-box"},r.a.createElement("div",{className:"video-playback"},"0.25"),r.a.createElement("div",{className:"video-playback"},"0.50"),r.a.createElement("div",{className:"video-playback"},"0.75"),r.a.createElement("div",{className:"video-playback"},"Normal"),r.a.createElement("div",{className:"video-playback"},"1.25"),r.a.createElement("div",{className:"video-playback"},"1.50"),r.a.createElement("div",{className:"video-playback"},"1.75"),r.a.createElement("div",{className:"video-playback"},"2.0")),r.a.createElement("div",{className:"video-playback-speed"},"Normal")),r.a.createElement("div",{className:"video-pip",disabled:!0},r.a.createElement("img",{src:"/static-img/pip_white.png",alt:"pip",width:"24",height:"24"})),r.a.createElement("div",{className:"full-screen"},r.a.createElement("button",{className:"full-screen-btn"},r.a.createElement("svg",{className:"full-screen-open",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M15 3h6v6"}),r.a.createElement("path",{d:"M9 21H3v-6"}),r.a.createElement("path",{d:"M21 3l-7 7"}),r.a.createElement("path",{d:"M3 21l7-7"})),r.a.createElement("svg",{className:"full-screen-exit",viewBox:"0 0 24 24",width:"24",height:"24",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none",shapeRendering:"geometricPrecision"},r.a.createElement("path",{d:"M4 14h6v6"}),r.a.createElement("path",{d:"M20 10h-6V4"}),r.a.createElement("path",{d:"M14 10l7-7"}),r.a.createElement("path",{d:"M3 21l7-7"}))))))),r.a.createElement("div",{className:"video-player"},r.a.createElement("video",{id:"vid-file-stream",poster:"https://raw.githubusercontent.com/Ahmetaksungur/twitter-video-player-clone/master/92456705_506989316849451_7379405183454806542_n.jpg",tabIndex:"-1",datavideo:"",preload:"auto",controlsList:"nodownload",crossOrigin:"anonymous"},r.a.createElement("source",{def:n,id:"org-video-src",src:n,type:"video/mp4"})))),r.a.createElement("canvas",{id:"canvas"}))},W=function(e){var a=e.socket,t=Object(n.useContext)(p).video,c=Object(n.useState)([]),l=Object(s.a)(c,2),i=l[0],o=l[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),u=d[0],v=d[1],f=Object(n.useState)({}),h=Object(s.a)(f,2),g=h[0],N=h[1],w=Object(n.useRef)(),k=Object(n.useRef)(),y=Object(n.useRef)([]),O=Object(n.useRef)(),j=Object(n.useRef)(),x=Object(n.useRef)(),C=Object(n.useState)(!1),S=Object(s.a)(C,2),T=(S[0],S[1]),M=Object(n.useState)({}),R=Object(s.a)(M,2),_=(R[0],R[1]);if(Object(n.useEffect)((function(){if(a){x.current=a,x.current.emit("join room file",{roomID:t.user.room,type:"help"}),x.current.on("all users file",(function(e){if(E()("#vid-file-stream")[0]){var a=E()("#vid-file-stream")[0].captureStream();O.current=a,console.log("other users : ",e),e.forEach((function(e){var t={peerID:e,peer:function(e,a,t){var n=new I.a({initiator:!0,trickle:!1,stream:t});return n.on("signal",(function(t){x.current.emit("sending signal file",{userToSignal:e,callerID:a,signal:t,vid:E()("video")[0].duration})})),n}(e,x.current.id,a)};y.current.push(t)}))}})),x.current.on("user joined file",(function(e){console.log("user joined file running...");var a=function(e,a){var t=new I.a({initiator:!1,trickle:!1});return window.fileOwner=a,t.on("signal",(function(e){x.current.emit("returning signal file",{signal:e,callerID:a})})),t.signal(e),t}(e.signal,e.callerID);j.current=a,a.on("stream",(function(e){console.log(e),w.current="copy",k.current=e,T((function(e){return!e}))})),T((function(e){return!e}))})),x.current.on("receiving returned signal file",(function(e){y.current.find((function(a){return a.peerID===e.id})).peer.signal(e.signal)}));var e=window.URL||window.webkitURL;E()("#vid-file-select").on("change",(function(a){var t=this.files[0];if(t){var n=t.type;if(""!=document.createElement("video").canPlayType(n)){var r=e.createObjectURL(t);w.current=r,_(t),console.log("vid-file-select running...")}}})),x.current.on("video end file",(function(){k.current=null,w.current="",window.fileOwner="",j.current.destroy(),T((function(e){return!e}))}))}}),[a]),Object(n.useEffect)((function(){b.a.get("https://watch-party-latest.herokuapp.com/video/all").then((function(e){o(e.data.video),function(e){for(var a=[],t=0;t<4&&t<e.length;t++)a.push(e[t]);v(a)}(e.data.video)}))}),[]),Object(n.useEffect)((function(){a&&setTimeout((function(){a.emit("any-video-selected",t.user.room),a.on("video-selected",(function(e){N(e)})),a.on("any-video-selected",(function(e){console.log("any-video-selected runnijng",window.vidUrl,e,a.id),a.emit("yes-video-selected",{vidUrl:window.vidUrl?window.vidUrl:{},to:e})})),a.on("yes-video-selected",(function(e){console.log("yes-video-selected",e),N(e)}))}),500)}),[a]),a){var U,L=function(e){window.vidUrl=e,g.startedBy?alert("You aren't allowed to close this video"):(a.emit("video-selected",{item:e,roomID:t.user.room,startedBy:t.user.user._id}),N(e))},P=function(){E()(".vlrl").css({transform:"scale(0)"}),E()(".url-container").css({opacity:"0"}),setTimeout((function(){E()(".url-container,.vlrl").fadeOut(10)}),600)};return r.a.createElement(r.a.Fragment,null,g.video?r.a.createElement(r.a.Fragment,null,g.startedBy?null:r.a.createElement("div",{className:"vvideo-back",onClick:function(){return L({})}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"vvideo-holder"},r.a.createElement(D,{vid:g}))):r.a.createElement(r.a.Fragment,null,w.current?r.a.createElement(r.a.Fragment,null,window.fileOwner?null:r.a.createElement("div",{className:"vvideo-back",onClick:function(){window.fileOwner||(y.current.map((function(e){e.peer.destroy()})),x.current.emit("video end file",t.user.room),w.current="",_({}))}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"vvideo-holder"},r.a.createElement(A,{vid:w.current,stream:k.current}))):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"url-container",onClick:P()},r.a.createElement("div",{className:"vvideo-back",onClick:function(){return P()}},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("div",{className:"vlrl-wr-message"},r.a.createElement("i",{className:"fas fa-times-circle"}),r.a.createElement("span",{className:"vlrl-wr-text"})),r.a.createElement("div",{className:"vlrl"},r.a.createElement("div",{className:"circle-temp"}),r.a.createElement("div",{className:"circle-temp1"}),r.a.createElement("div",{className:"circle-temp2"}),r.a.createElement("div",{className:"crlunderline"},r.a.createElement("span",{className:"crlicon-surround"},r.a.createElement("i",{className:"fas fa-link crlicon"})),r.a.createElement("input",{type:"url",className:"join-room",placeholder:"Paste a Url here"})),r.a.createElement("button",{className:"crbtn",onClick:function(e){!function(e){var a=E()(".vlrl .crbtn");if(!a.find(".cr-loading-spinner").length){var t=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(:[0-9]+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,n=E()(".join-room").val();if(!n.match(t)||0==n.match(t).length)return E()(".vlrl-wr-text").text("Please enter a valid url"),E()(".vlrl-wr-message").css({left:"3%",transform:"scale(1.0)"}),void setTimeout((function(){E()(".vlrl-wr-message").css({left:"-33%",transform:"scale(0.5)"})}),4e3);a.text(""),a.append('<div className="cr-loading-spinner"/>'),(U=document.createElement("video")).src=n,E()(U).on("error",(function(){E()(".vlrl-wr-text").text("Sorry, Unable to play the url"),E()(".vlrl-wr-message").css({left:"3%",transform:"scale(1.0)"}),a.text("Play Url"),setTimeout((function(){E()(".vlrl-wr-message").css({left:"-33%",transform:"scale(0.5)"})}),4e3)})),E()(U).on("canplay",(function(){L({video:{video:U.src,poster:""}}),a.text("Play Url")}))}}()}},"Play Url"))),r.a.createElement("div",{className:"vlholder"},r.a.createElement("input",{type:"file",id:"vid-file-select",className:"vlinnercircle",accept:"video/*"}),r.a.createElement("i",{className:"fas fa-share-alt vlk-vid-upload"}),r.a.createElement("div",{className:"vlano-holder"},"Share a Video")),r.a.createElement("div",{className:"vlholder1",onClick:function(){return console.log("openUrlrunning..."),E()(".url-container,.vlrl").fadeIn(10),void setTimeout((function(){E()(".vlrl").css({transform:"scale(1)"}),E()(".url-container").css({opacity:"1"})}),60)}},r.a.createElement("div",{className:"vlinnercircle1"}),r.a.createElement("i",{className:"fas fa-link vlk-vid-upload1"}),r.a.createElement("div",{className:"vlano-holder1"},"Share a Link")),r.a.createElement(V,{videosList:i,videosList1:u,viewVideo:function(e){return L(e)}}))))}return null},B={height:"auto",width:"auto"},F=function(e){function a(){var a=E()(this).val();E()(e.id+" .voice-slider-buffer").css("width",100*a+"%"),e.vid.volume=a,E()(e.id+" .voice-slider-range").attr("value",a),0==a?(e.vid.muted=!0,E()(e.id+" .vol-on").fadeOut(300,(function(){E()(e.id+" .vol-off").fadeIn(300)}))):(e.vid.muted=!1,E()(e.id+" .vol-off").fadeOut(300,(function(){E()(e.id+" .vol-on").fadeIn(300)})))}return Object(n.useEffect)((function(){var t;e.vid&&(E()(e.id+" .voice-slider").css({width:"0px",visibility:"hidden",opacity:0}),E()(e.id+" .vol-on").fadeIn(300,(function(){E()(e.id+" .vol-off").fadeOut(300)})),E()(e.id+" .vol-on").on("click",(function(a){a.stopPropagation(),E()(e.id+" .vol-on").fadeOut(300,(function(){E()(e.id+" .vol-off").fadeIn(300)}))})),E()(e.id+" .vol-off").on("click",(function(a){a.stopPropagation(),E()(e.id+" .vol-off").fadeOut(300,(function(){E()(e.id+" .vol-on").fadeIn(300)}))})),E()(e.id+" .vol-on,"+e.id+" .vol-off,"+e.id+" .voice-slider").hover((function(){t&&clearTimeout(t),E()(e.id+" .voice-slider").css({width:"100px",opacity:"1",visibility:"visible"}),E()(e.id+" .volume-changer").css({transform:"translateX(-102px)"})}),(function(){t=setTimeout((function(){E()(e.id+" .voice-slider").css({width:"0px",opacity:"0",visibility:"hidden"}),E()(e.id+" .volume-changer").css({transform:"translateX(0px)"})}),2e3)})),E()(e.id+" .voice-slider-range").on("input change",a),E()(e.id+" .voice-slider-range").keyup(a).keyup())}),[]),e.vid?r.a.createElement("div",{className:"volume-changer",onClick:function(e){return function(e){e.stopPropagation()}(e)}},r.a.createElement("div",{className:"vol-surround vol-on"},r.a.createElement("img",{src:"/static-img/vol.png",width:"17",height:"17"})),r.a.createElement("div",{className:"vol-surround vol-off"},r.a.createElement("img",{src:"/static-img/vol_off.png",width:"17",height:"17"})),r.a.createElement("div",{className:"voice-slider"},r.a.createElement("div",{className:"voice-slider-rail",role:"slider","aria-valuemax":"1","aria-valuemin":"0","aria-valuenow":"1"},r.a.createElement("div",{className:"voice-slider-buffer"}),r.a.createElement("input",{className:"voice-slider-range",type:"range",min:"0",max:"1",defaultValue:"1",step:"0.01"})))):null},Y=function(e){E.a.fn.textWidth=function(e,a){return E.a.fn.textWidth.fakeEl||(E.a.fn.textWidth.fakeEl=E()("<span>").hide().appendTo(document.body)),E.a.fn.textWidth.fakeEl.text(e||this.val()||this.text()).css("font",a||this.css("font")),E.a.fn.textWidth.fakeEl.width()};var a=Object(n.useState)(!1),t=Object(s.a)(a,2),c=(t[0],t[1],Object(n.useRef)());if(e.user)var l=E()("<p>"+e.user.username.toUpperCase()+"</p>").textWidth(),i={width:l+15+"px",left:"calc(98% - "+(l+10)+"px)"};Object(n.useEffect)((function(){var a=!1;e.peer.on("stream",(function(t){console.log("on stream running .....",e.peer),c.current.srcObject=t,a=!0,e.setSt({id:e.id,stream:t})})),!a&&e.st&&(c.current.srcObject=e.st.stream)}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("video",{playsInline:!0,autoPlay:!0,ref:c,className:"rvideo"}),e.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"r-container"},r.a.createElement("div",{onClick:function(a){return e.otherUnpin(a)},onMouseEnter:function(e){E()(".other .rvideo-pin").html('UN <i className="fas fa-map-pin ricon"></i>')},onMouseLeave:function(e){E()(".other .rvideo-pin").html('<i className="fas fa-map-pin ricon"></i>')},className:"rvideo-pin"},r.a.createElement("i",{className:"fas fa-map-pin ricon"})),r.a.createElement("div",{style:i,className:"rvideo-name"},e.user.username)),r.a.createElement(F,{vid:E()("#"+e.id+" video"),id:"#"+e.id})))},z=function(e){var a=Object(n.useState)([]),t=Object(s.a)(a,2),c=t[0],l=t[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),m=o[0],d=o[1],f=Object(n.useRef)(),h=Object(n.useRef)(),g=Object(n.useRef)([]),N=Object(n.useRef)([]),w=(Object(n.useRef)(),Object(n.useRef)([]),Object(n.useState)([])),k=Object(s.a)(w,2),O=k[0],x=k[1],C=(window.location.href.substring(window.location.href.lastIndexOf("/")+1),Object(n.useContext)(p)),D=C.video,T=C.dispatch,M=Object(n.useState)(!1),_=Object(s.a)(M,2),U=(_[0],_[1]),L=Object(n.useState)([]),P=Object(s.a)(L,2),V=P[0],A=P[1],F=Object(n.useState)([]),z=Object(s.a)(F,2),q=z[0],H=z[1],J=Object(n.useState)([]),X=Object(s.a)(J,2),Z=X[0],$=X[1],G=Object(n.useState)([]),K=Object(s.a)(G,2),Q=K[0],ee=K[1];function ae(e){return 0==e?"0":e/10<1?"0"+e:e}r.a.useEffect((function(){var e=document.createElement("script");e.src="/path/to/room.js",e.async=!0,document.body.appendChild(e),D.curV?E()(".vid-off").fadeOut(300):E()(".vid-on").fadeOut(300),D.curA?E()(".aud-off").fadeOut(300):E()(".aud-on").fadeOut(300)}),[]),r.a.useEffect((function(){b.a.post("https://watch-party-latest.herokuapp.com/room/members",{id:D.user.user._id,roomId:D.user.room}).then((function(e){A(e.data)}))}),[]),r.a.useEffect((function(){b.a.get("https://watch-party-latest.herokuapp.com/video/me",{headers:{Authorization:"Bearer "+D.user.token}}).then((function(e){var a=e.data.video;console.log(a.length),te(void 0,a,0)}))}),[]);function te(e,a,t){t>=a.length?ee((function(e){return[].concat(Object(y.a)(e),Object(y.a)(a))})):(e='<video ><source src = "'+a[t].video+'" type = "video/mp4"></video>',E()(e).on("loadedmetadata",(function(){var n=ae(Math.floor(this.duration/3600)),r=ae(Math.floor(this.duration%3600/60)),c=ae(Math.floor(this.duration%3600%60));a[t].duration=("0"==n?"":n+":")+r+":"+c,te(e,a,t+1)})))}function ne(e,a,t){var n=new I.a({initiator:!0,trickle:!1,stream:t});return n.on("signal",(function(t){console.log("sending signal...",a),f.current.emit("sending signal",{userToSignal:e,callerID:a,signal:t,user:D.user.user})})),n}function re(e,a,t){var n=new I.a({initiator:!1,trickle:!1,stream:t});return n.on("signal",(function(e){console.log("returning signal ",a),f.current.emit("returning signal",{signal:e,callerID:a,user:D.user.user})})),n.signal(e),n}r.a.useEffect((function(){b.a.post("https://watch-party-latest.herokuapp.com/chat/get",{id:D.user.user._id,roomId:D.user.room},{headers:{Authorization:"Bearer "+D.user.token}}).then((function(e){x(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){f.current=j.a.connect("https://watch-party-latest.herokuapp.com/",{transports:["websocket","polling","flashsocket"]}),window.socket=f.current;try{navigator.mediaDevices.getUserMedia({video:!!D.video&&{deviceId:{exact:D.video}},audio:!!D.voice&&{deviceId:{exact:D.voice}}}).then((function(e){h.current&&(h.current.srcObject=e),!D.curA&&D.voice&&me(),!D.curV&&D.video&&oe(),f.current.emit("join room",{id:D.user.user._id,roomID:D.user.room,type:"normal"}),f.current.on("duplicate check",(function(e){e.id==D.user.user._id&&(window.location.href=new URL(window.location.href).origin+"/create/")})),f.current.on("all users",(function(a){var t=[];a.forEach((function(a){var n=ne(a,f.current.id,e),r={peerID:a,peer:n,user:null};g.current.push(r),g.current.length<15&&N.current.push(r),t.push(n)})),d((function(e){return[].concat(Object(y.a)(e),t)}))})),f.current.on("user joined",(function(a){var t=re(a.signal,a.callerID,e),n={peerID:a.callerID,peer:t,user:a.user};g.current.push(n),g.current.length<15&&N.current.push(n),H((function(e){return[].concat(Object(y.a)(e),[a.user])}))})),f.current.on("receiving returned signal",(function(e){var a=g.current.find((function(a){return a.peerID===e.id}));a.user=e.user,a.peer.signal(e.signal),H((function(a){return[].concat(Object(y.a)(a),[e.user])}))}))})).catch((function(e){f.current.emit("join room",{id:D.user.user._id,roomID:D.user.room,type:"help"}),f.current.on("duplicate check",(function(e){e.id==D.user.user._id&&(window.location.href=new URL(window.location.href).origin+"/create/")})),f.current.on("all users",(function(e){var a=[];e.forEach((function(e){var t=ne(e,f.current.id,null),n={peerID:e,peer:t,user:null};g.current.push(n),g.current.length<15&&N.current.push(n),a.push(t)})),d((function(e){return[].concat(Object(y.a)(e),a)}))})),f.current.on("user joined",(function(e){var a=re(e.signal,e.callerID,null),t={peerID:e.callerID,peer:a,user:e.user};g.current.push(t),g.current.length<15&&N.current.push(t),H((function(a){return[].concat(Object(y.a)(a),[e.user])}))})),f.current.on("receiving returned signal",(function(e){console.log(m);var a=g.current.find((function(a){return a.peerID===e.id}));a.user=e.user,a.peer.signal(e.signal),H((function(a){return[].concat(Object(y.a)(a),[e.user])}))}))})),f.current.on("user left",(function(e){var a=g.current.find((function(a){return a.peerID===e}));if(a){var t=a.user,n=N.current.find((function(a){return a.peerID===e}));a&&a.peer.destroy(),n&&n.peer.destroy(),g.current=g.current.filter((function(a){return a.peerID!==e})),N.current=N.current.filter((function(a){return a.peerID!==e}));var r=c.filter((function(a){return a.peerID!=e}));l(Object(y.a)(r)),0!=N.current.length||E()(".me").hasClass("rvideo-surround")||Ee(0),r=q.filter((function(e){return e._id!=t._id})),H(Object(y.a)(r))}}))}catch(e){}}),[]),r.a.useEffect((function(){var e=E()(D.options.audio);E()(".container").append(e),e=E()(D.options.video),E()(".container").append(e),D.voice?(E()(".aud-opt").each((function(e){E()(this).attr("value")==D.voice&&E()(this).css({borderRight:"3px solid rgb(3,240,100)"})})),E()(".aud-op-opt").each((function(e){E()(this).attr("value")==D.voiceOp&&E()(this).css({borderRight:"3px solid rgb(3,240,100)"})}))):E()("#audioDevice .options").css({borderRight:"3px solid rgb(3,240,100)"}),D.video?E()(".vid-opt").each((function(e){E()(this).attr("value")==D.video&&E()(this).css({borderRight:"3px solid rgb(3,240,100)"})})):E()("#videoDevice .options").css({borderRight:"3px solid rgb(3,240,100)"}),E()(".aud-opt").on("click",(function(){D.voice!=E()(this).attr("value")&&(E()(".aud-opt").css({borderRight:"none"}),E()(this).css({borderRight:"3px solid rgb(3,240,100)"}),D.voice=E()(this).attr("value"),ie())})),E()(".vid-opt").on("click",(function(){D.video!=E()(this).attr("value")&&(E()(".vid-opt").css({borderRight:"none"}),E()(this).css({borderRight:"3px solid rgb(3,240,100)"}),D.video=E()(this).attr("value"),se())}));var a=!1;E()(".drp-dwn-box").hover((function(){console.log("hover"),a=!0}),(function(){console.log("hover not"),a=!1})),E()(document).mouseup((function(){a||E()(".drp-dwn-box").fadeOut(100)}))}),[]),Object(n.useEffect)((function(){b.a.get("https://watch-party-latest.herokuapp.com/room/me",{headers:{Authorization:"Bearer "+D.user.token}}).then((function(e){$(e.data)})).catch((function(e){console.log(e)}))}),[]);var ce=!1,le=!1;D.video&&(ce=!0),D.voice&&(le=!0);var ie=function(){navigator.mediaDevices.getUserMedia({video:!!ce&&{deviceId:{exact:D.video},videoConstraints:B},audio:{deviceId:{exact:D.voice}}}).then((function(e){var a=h.current.srcObject.getAudioTracks()[0];h.current&&(h.current.srcObject.removeTrack(a),h.current.srcObject.addTrack(e.getAudioTracks()[0]));var t=h.current.srcObject.getAudioTracks()[0];E()(".aud-off").fadeOut(200,(function(){E()(".aud-on").fadeIn(200)})),m.map((function(e){e.replaceTrack(a,t,h.current.srcObject)}))})).catch((function(e){console.log(e),alert("Permission Denied")})),le=!0},se=function(){navigator.mediaDevices.getUserMedia({video:{deviceId:{exact:D.video},videoConstraints:B},audio:!!le&&{deviceId:{exact:D.voice}}}).then((function(e){var a=h.current.srcObject.getVideoTracks()[0];h.current&&(console.log("current changed ....."),h.current.srcObject.removeTrack(a),h.current.srcObject.addTrack(e.getVideoTracks()[0]),h.current.play());var t=h.current.srcObject.getVideoTracks()[0];E()(".vid-off").fadeOut(200,(function(){E()(".vid-on").fadeIn(200)})),m.map((function(e){e.replaceTrack(a,t,h.current.srcObject)}))})).catch((function(e){alert("Permission Denied")})),ce=!0},oe=function(){h.current.srcObject.getVideoTracks()[0].enabled=!1,de("video"),ce=!1,h.current.pause(),E()(".vid-on").fadeOut(200,(function(){E()(".vid-off").fadeIn(200)}))},me=function(){h.current.srcObject.getAudioTracks()[0].enabled=!1,de("audio"),le=!1,E()(".aud-on").fadeOut(200,(function(){E()(".aud-off").fadeIn(200)}))},de=function(e){return h.current.srcObject.getTracks().map(function(){var a=Object(v.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t.kind!=e){a.next=3;break}return a.next=3,t.stop();case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},ue=620,ve=function(){var e=Math.min(N.current.length+1,E()(".rvideo-surround").length);e>=1&&E()(".rvideo-surround").css({width:"1000px",height:"600px"}),e>=2&&E()(".rvideo-surround").css({width:550,height:310}),e>=5&&(E()(".rvideo-grid").css({gridTemplateColumns:"auto auto auto"}),E()(".rvideo-surround").css({width:1100/3,height:ue/2.8})),e>=10&&(E()(".rvideo-grid").css({gridTemplateColumns:"auto auto auto auto"}),E()(".rvideo-surround").css({width:1100/3.8,height:200})),e>=13&&(E()(".rvideo-grid").css({gridTemplateColumns:"auto auto auto auto"}),E()(".rvideo-surround").css({width:1100/3.8,height:ue/3.8}))};ve(),0==N.current.length&&g.current.length>0||E()(".me .rvideo-pin").fadeOut();var pe=function(){E()(".me").find(".rvideo-pin").fadeIn(500),0!=N.current.length&&(N.current=[],E()(".other").removeClass("rvideo-surround"),U((function(e){return!e})),ve())},fe=function(e){var a=g.current.find((function(a){return a.peerID==e}));E()(".me").fadeOut(),E()(".me").removeClass("rvideo-surround"),E()(".other .rvideo-pin").fadeIn(500),N.current=[a],U((function(e){return!e})),ve()},Ee=function(e){0!=e&&e.stopPropagation(),console.log("running other unpin...");for(var a=N.current[0],t=15,n=N.current.length;n<=t&&n<g.current.length;n++)a&&a.peerID==g.current[n].peerID?t=16:N.current.push(g.current[n]);E()(".me").addClass("rvideo-surround"),E()(".me").fadeIn(),ve(),U((function(e){return!e}))},he={root:document.querySelector("r-members"),rootMargin:"0px",threshold:[.1]},ge={root:document.querySelector("r-videos"),rootMargin:"0px",threshold:[.1]},Ne={root:document.querySelector("r-rooms"),rootMargin:"0px",threshold:[.1]};function be(e,a){e.forEach((function(e){e.intersectionRatio>.1?E()(e.target).css({transform:" translateX(0%)"}):E()(e.target).css({transform:" translateX(-50%)"})}))}var we=new IntersectionObserver(be,he),ke=(new IntersectionObserver(be,ge),new IntersectionObserver(be,Ne));function ye(e,a){return e=Math.ceil(e),a=Math.floor(a),Math.floor(Math.random()*(a-e)+e)}function Oe(){var e=[ye(10,250),ye(50,250),ye(10,250)],a=ye(0,3),t=e[a];return e[a]=e[1],e[1]=t,"rgb("+e[0]+","+e[1]+","+e[2]+")"}function je(e){var a,t=(e=e.toUpperCase()).split(" ");return 1==t.length?(t=t[0])[0]:(a=t[0],t=t[1],a[0]+t[0])}var xe=Oe(),Ie=V.filter((function(e){return!q.map((function(e){return e._id})).includes(e._id)})),Ce=function(e){return c.find((function(a){return a.id==e}))},De=function(e){var a=new URL(window.location.href);e!=D.user.room&&(window.location.href=a.origin+"/room/"+e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"r-dashboard"},r.a.createElement("div",{className:"dashboard-selector"},r.a.createElement("div",{className:"dashboard-option",id:"home"},r.a.createElement("i",{className:"fas fa-h-square d-opt-icon"})),r.a.createElement("div",{className:"dashboard-option",id:"vidup"},r.a.createElement("i",{className:"fas fa-upload d-opt-icon"})),r.a.createElement("div",{className:"dashboard-option",id:"vidch"},r.a.createElement("i",{className:"fas fa-video d-opt-icon"})),r.a.createElement("div",{className:"dashboard-option",id:"vid"},r.a.createElement("i",{className:"fab fa-youtube d-opt-icon"})),r.a.createElement("div",{className:"d-opt-selector"})),r.a.createElement("div",{className:"rholder",onClick:function(){return function(){localStorage.removeItem("id"),localStorage.removeItem("vid-token");var e=new URL(window.location.href);b.a.post("https://watch-party-latest.herokuapp.com/users/logout",{id:D.user.user._id,token:D.user.token}).then((function(a){window.location.href=e.origin,T({type:"SET_VOICE",voice:!1}),T({type:"SET_AUDOP",voiceOp:!1}),T({type:"SET_CUR",curA:!1,curV:!1}),T({type:"SET_VIDEO",video:!1}),T({type:"SET_OPTIONS",options:{audio:"",video:""}}),T({type:"SET_ROOM",room:!1}),T({type:"SET_USER",user:null})})).catch((function(e){console.log("error in logging out")}))}()}},r.a.createElement("div",{className:"rinnercircle"}),r.a.createElement("i",{class:"fas fa-sign-out-alt rk-vid-upload"})),r.a.createElement("div",{className:"r-rooms"},r.a.createElement("div",{className:"r-mem-prelim"},"Rooms Created (",Z.created?Z.created.length:0,")"),Z.created&&Z.created.map((function(e,a){return r.a.createElement("div",{key:a,className:"r-room",onClick:function(){return De(e.id)}},r.a.createElement("div",{style:{background:Oe()},className:"img-prof1"},je(e.name)),e.name," ",e.id==D.user.room?r.a.createElement("div",{className:"current-room"}):null)})),r.a.createElement("div",{className:"r-mem-prelim"},"Other Rooms (",Z.member?Z.member.length:0,")"),Z.member&&Z.member.map((function(e,a){return a==Z.member.length-1&&setTimeout((function(){E()(".r-room").each((function(e){ke.observe(this)}))}),100),r.a.createElement("div",{key:a,className:"r-room",onClick:function(){return De(e.id)}},r.a.createElement("div",{style:{background:Oe()},className:"img-prof1"},je(e.name)),e.name," ",e.id==D.user.room?r.a.createElement("div",{className:"current-room"}):null)}))),r.a.createElement("div",{className:"r-videos"},0!=Q.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"r-mem-prelim"},"Your Videos"),Q.map((function(e,a){return a==Q.length-1&&setTimeout((function(){E()(".r-video-").each((function(e){ke.observe(this)}))}),100),r.a.createElement("div",{key:a,className:"r-video-"},r.a.createElement("div",{className:"vid-poster"},r.a.createElement("img",{src:e.poster,width:"100",height:"75"})),r.a.createElement("div",{className:"vid-name"},e.name),r.a.createElement("div",{className:"vid-views"},"12 views"),r.a.createElement("div",{className:"vid-duration"},e.duration))}))):r.a.createElement("div",{className:"r-mem-prelim"},"No Videos Uploaded")),r.a.createElement("div",{className:"r-members"},r.a.createElement("div",{className:"r-mem-prelim"},"Total Members (",V.length+1,")"),r.a.createElement("div",{className:"r-mem-prelim"},"Online (",q.length+1,")"),r.a.createElement("div",{className:"r-member",onClick:function(e){pe()}},r.a.createElement("div",{style:{background:xe},className:"img-prof"},je(D.user.user.username)),D.user.user.username," (you)"),q.map((function(e,a){return a==g.current.length-1&&setTimeout((function(e){E()(".r-member").each((function(e){we.observe(this)}))}),100),r.a.createElement("div",{className:"r-member",key:a,onClick:function(){!function(e){var a=g.current.find((function(a){return a.user._id==e._id}));fe(a.peerID)}(e)}},r.a.createElement("div",{style:{background:Oe()},className:"img-prof"},je(e.username)),e.username)})),r.a.createElement("div",{className:"r-mem-prelim"},"Offline"),Ie.map((function(e,a){return a==Ie.length-1&&setTimeout((function(e){E()(".r-member").each((function(e){we.observe(this)}))}),100),r.a.createElement("div",{className:"r-member",key:a},r.a.createElement("div",{style:{background:Oe()},className:"img-prof"},je(e.username)),e.username)})))),r.a.createElement("div",{className:"overall-container"},r.a.createElement("div",{className:"inside-overall-container"},r.a.createElement("div",{className:"video-list"},r.a.createElement(W,{socket:f.current})),r.a.createElement("div",{className:"video-upload-container"},r.a.createElement(S,{addVideo:function(e){return a=e,console.log("vids add video",a),void te(void 0,[a],0);var a}})),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"circle-temp2"}),r.a.createElement("div",{className:"egg-temp"}),r.a.createElement("div",{className:"circle-temp1"}),r.a.createElement("div",{className:"circle-temp3"}),r.a.createElement("div",{className:"circle-temp4"}),r.a.createElement("div",{className:"rvideo-grid"},r.a.createElement("div",{className:"rvideo-surround me",onClick:function(){return pe()}},r.a.createElement("video",{muted:!0,width:"100%",height:"100%",ref:h,autoPlay:!0,playsInline:!0,className:"rvideo"}),r.a.createElement("div",{className:"r-container"},r.a.createElement("div",{onClick:function(e){return function(e){if(E()(".me .rvideo-pin").fadeOut(),(0!=N.current.length||0!=g.current.length)&&!(N.current.length>=2)){e.stopPropagation();for(var a=0;a<15&&a<g.current.length&&N.current.length<g.current.length;a++)N.current.push(g.current[a]);E()(".me .rvideo-pin").fadeOut(500),U((function(e){return!e})),ve()}}(e)},className:"rvideo-pin"},r.a.createElement("i",{className:"fas fa-map-pin ricon"})),r.a.createElement("div",{className:"rvideo-name"},"you"))),N.current.length>0?N.current.map((function(e,a){var t=e.peerID,n=e.peer,c=e.user;return a==N.current.length-1&&setTimeout((function(){ve(),E()(".me").hasClass("rvideo-surround")&&E()(".other .rvideo-pin").fadeOut()}),300),r.a.createElement("div",{key:a,id:t,onClick:function(){return fe(t)},className:"rvideo-surround other"},r.a.createElement(Y,{setSt:function(e){l((function(a){return[].concat(Object(y.a)(a),[e])}))},st:Ce(t),otherUnpin:function(e){Ee(e)},id:t,peer:n,user:c,className:"rvideo"}))})):null),r.a.createElement("div",{className:"vid-btn-holder"},r.a.createElement("div",{className:"vid vid-off crricon-surround",onClick:se},r.a.createElement("i",{className:"fas fa-video-slash icon"})),r.a.createElement("div",{className:"vid vid-on crricon-surround",onClick:oe},r.a.createElement("i",{className:"fas fa-video icon"})),r.a.createElement("div",{className:"drp-dwn",onClick:function(){return E()("#audioDevice").fadeOut(10),void E()("#videoDevice").fadeIn(10)}},r.a.createElement("i",{className:"fas fa-caret-down"}))),r.a.createElement("div",{className:"aud-btn-holder"},r.a.createElement("div",{className:"aud aud-off crricon-surround",onClick:ie},r.a.createElement("i",{className:"fas fa-microphone-slash icon"})),r.a.createElement("div",{className:"aud aud-on crricon-surround",onClick:me},r.a.createElement("i",{className:"fas fa-microphone icon"})),r.a.createElement("div",{className:"drp-dwn",onClick:function(){return E()("#videoDevice").fadeOut(10),void E()("#audioDevice").fadeIn(10)}},r.a.createElement("i",{className:"fas fa-caret-down"})))))),r.a.createElement("div",{className:"ricon-surround ch-open"},r.a.createElement("i",{className:"fas fa-comment-alt ricon"}),"Chat"),r.a.createElement("div",{className:"ricon1-surround ch-close"},r.a.createElement("i",{className:"fas fa-chevron-right ricon1"})),r.a.createElement("div",{className:"rchat-holder"},r.a.createElement(R,{id:D.user.user._id,chat:O})))},q=function(e,a){switch(a.type){case"SET_VOICE":return Object(i.a)(Object(i.a)({},e),{},{voice:a.voice});case"SET_AUDOP":return Object(i.a)(Object(i.a)({},e),{},{voiceOp:a.voiceOp});case"SET_URL":return Object(i.a)(Object(i.a)({},e),{},{url:a.url});case"SET_VIDEO":return Object(i.a)(Object(i.a)({},e),{},{video:a.video});case"SET_ROOM":return Object(i.a)(Object(i.a)({},e),{},{room:a.room});case"SET_NAME":return Object(i.a)(Object(i.a)({},e),{},{name:a.name});case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:a.user});case"SET_CUR":return Object(i.a)(Object(i.a)({},e),{},{curV:a.curV,curA:a.curA});case"SET_OPTIONS":return Object(i.a)(Object(i.a)({},e),{},{options:a.options});case"SET_VIDEO_URL":return Object(i.a)(Object(i.a)({},e),{},{videoUrl:a.videoUrl});case"SET_EVERYTHING":return Object(i.a)(Object(i.a)({},e),{},{voice:a.voice,voiceOp:a.voiceOp,video:a.video,room:a.room,curV:a.curV,curA:a.curA,options:a.options,user:a.user});default:return e}},H=t(175),J=function(e){var a=Object(n.useContext)(p),t=(a.video,a.dispatch,e.roomID);return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,Object.assign({},e,{roomID:t})))},X=t(173),Z=t.n(X),$=function(e){var a,t=e.alreadySet,n=e.component,c=Object(H.a)(e,["alreadySet","component"]),l=(a=new URL(window.location.href).pathname).replace("/room/",""),i=(a=g.a.decrypt(l,"def").toString(Z.a.enc.Utf8)).substr(a.indexOf(" ")+1);return""==i&&(alert("Sorry No Such Rooms..."),l="",i="",window.location.href=new URL(window.location.href).origin+"/create"),r.a.createElement(m.a,Object.assign({},c,{component:function(e){return t?r.a.createElement(n,null):r.a.createElement(J,Object.assign({roomID:l,RoomName:i},e))}}))},G=(t(356),function(){return r.a.useEffect((function(){var e=document.createElement("script");e.src="/path/to/login.js",e.async=!0,document.body.appendChild(e)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login-bg"},r.a.createElement("div",{className:"wrong-message"},"The Email or Password is incorrect"),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"caurosel"},r.a.createElement("div",{className:"caurosel-container"},r.a.createElement("div",{className:"temp"},r.a.createElement("div",{className:"temp-cover"},"Create a Party"),r.a.createElement("div",{className:"temp-cover"},"Invite Your Friends")),r.a.createElement("div",{className:"temp"},r.a.createElement("div",{className:"temp-cover"},"Share Your Video File"),r.a.createElement("div",{className:"temp-cover"},"Watch Along")),r.a.createElement("div",{className:"temp"},r.a.createElement("div",{className:"temp-cover"},"Experience Endless Entertainment"))),r.a.createElement("div",{className:"changer"},r.a.createElement("div",{className:"ind-changer",count:"0"}),r.a.createElement("div",{className:"ind-changer",count:"1"}),r.a.createElement("div",{className:"ind-changer",count:"2"}),r.a.createElement("div",{className:"ind-cover"}))),r.a.createElement("div",{className:"login-signup"},r.a.createElement("div",{className:"button"},r.a.createElement("button",{id:"login"},"Login"),r.a.createElement("button",{id:"signup"},"Sign Up")),r.a.createElement("div",{className:"lsmain"},r.a.createElement("div",{className:"l"},r.a.createElement("div",{className:"circle-temp"}),r.a.createElement("div",{className:"circle-temp1"}),r.a.createElement("div",{className:"circle-temp2"}),r.a.createElement("div",{className:"underline"},r.a.createElement("span",{className:"icon-surround"},r.a.createElement("i",{className:"fas fa-user icon"})),r.a.createElement("input",{required:!0,type:"email",id:"lemail",placeholder:"Your Email"})),r.a.createElement("div",{className:"underline"},r.a.createElement("span",{className:"icon-surround"},r.a.createElement("i",{className:"fas fa-unlock icon"})),r.a.createElement("input",{required:!0,type:"password",id:"lpass",placeholder:"Your Password"}),r.a.createElement("i",{className:"fas fa-eye icon3"}),r.a.createElement("i",{className:"fas fa-eye-slash icon3"})),r.a.createElement("div",{className:"submit lsub"},"Sign In")),r.a.createElement("div",{className:"s"},r.a.createElement("div",{className:"circle-temp"}),r.a.createElement("div",{className:"circle-temp1"}),r.a.createElement("div",{className:"circle-temp2"}),r.a.createElement("div",{className:"underline"},r.a.createElement("span",{className:"icon-surround"},r.a.createElement("i",{className:"fas fa-user icon"})),r.a.createElement("input",{type:"text",spellCheck:"false",required:!0,id:"user",placeholder:"Your Username"}),r.a.createElement("i",{className:"fas fa-check-circle icon1"}),r.a.createElement("i",{className:"fas fa-times-circle icon2"}),r.a.createElement("span",{className:"tool-tip"},"Username must be atleast 5 characters")),r.a.createElement("div",{className:"underline"},r.a.createElement("span",{className:"icon-surround"},r.a.createElement("i",{className:"fas fa-envelope-open-text icon"})),r.a.createElement("input",{type:"email",spellCheck:"false",required:!0,id:"email",placeholder:"Your Email"}),r.a.createElement("i",{className:"fas fa-check-circle icon1"}),r.a.createElement("i",{className:"fas fa-times-circle icon2"}),r.a.createElement("span",{className:"tool-tip"},"Please enter a valid Email Id")),r.a.createElement("div",{className:"underline"},r.a.createElement("span",{className:"icon-surround"},r.a.createElement("i",{className:"fas fa-unlock icon"})),r.a.createElement("input",{required:!0,type:"password",id:"pass",placeholder:"Your Password"}),r.a.createElement("i",{className:"fas fa-eye icon3"}),r.a.createElement("i",{className:"fas fa-eye-slash icon3"}),r.a.createElement("i",{className:"fas fa-check-circle icon1"}),r.a.createElement("i",{className:"fas fa-times-circle icon2"}),r.a.createElement("span",{className:"tool-tip"},"Password must be atleast 8 Characters")),r.a.createElement("div",{className:"underline"},r.a.createElement("span",{className:"icon-surround"},r.a.createElement("i",{className:"fas fa-key icon"})),r.a.createElement("input",{required:!0,type:"password",id:"cpass",placeholder:"Confirm Your Password"}),r.a.createElement("i",{className:"fas fa-eye icon3"}),r.a.createElement("i",{className:"fas fa-eye-slash icon3"}),r.a.createElement("i",{className:"fas fa-check-circle icon1"}),r.a.createElement("i",{className:"fas fa-times-circle icon2"}),r.a.createElement("span",{className:"tool-tip"},"Passwords doesn't match")),r.a.createElement("div",{className:"submit ssub"},"Sign Up")))))))});var K=function(){var e=Object(n.useReducer)(q,[]),a=Object(s.a)(e,2),t=a[0],c=a[1];return r.a.useEffect((function(){var e=localStorage.getItem("id"),a=window.location.href;if(a=new URL(a),e){if(t.user||b.a.get("https://watch-party-latest.herokuapp.com/users/me",{headers:{Authorization:"Bearer "+localStorage.getItem("vid-token")}}).then((function(e){c({type:"SET_USER",user:Object(i.a)(Object(i.a)({},e.data),{},{token:localStorage.getItem("vid-token")})})})),"/create"==a.pathname)return;if("/login"!=a.pathname&&"/"!=a.pathname)return;window.location.href=a.origin+"/create"}else{if("/login"==a.pathname)return;window.redirect="/"==a.pathname?"/create":a.pathname,window.location.href=a.origin+"/login?redirect="+window.redirect}}),[]),r.a.createElement(p.Provider,{value:{video:t,dispatch:c}},r.a.createElement(o.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/login",component:G}),r.a.createElement(m.a,{path:"/create",exact:!0,component:k}),r.a.createElement(m.a,{path:"/selectMedia",component:J}),r.a.createElement($,{path:"/room/:roomID",component:z,alreadySet:!!t.room}))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[176,1,2]]]);
//# sourceMappingURL=main.b299e6b0.chunk.js.map